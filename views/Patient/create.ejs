
<div class="row mt-5">
    <div class="col-md-6 m-auto">
        <div class="card card-body">
        <h1 class="text-center mb-3">
            Create Patient
        </h1>
        <% include ./../partials/messages %> 
        <form action="/patient-page/create" method="POST">
            <div class="form-group">
            <label for="name">Name</label>
            <input
                type="text"
                id="name"
                name="name"
                class="form-control mt-1"
                placeholder="Enter Name"
                value="<%= typeof name != 'undefined' ? name : '' %>"
            />
            </div>
            <div class="form-group mt-3">
            <label for="age">Age</label>
            <input
                type="number"
                id="age"
                name="age"
                class="form-control"
                placeholder="Enter Age"
                value="<%= typeof age != 'undefined' ? age : '' %>"
            />
            </div>
            <div class="form-group mt-3">
            <label for="NIK">NIK</label>
            <input
                type="number"
                id="NIK"
                name="NIK"
                class="form-control"
                placeholder="Enter NIK"
                value="<%= typeof NIK != 'undefined' ? NIK : '' %>"
            />
            </div>
            
            <div class="form-group mt-3">
            <label for="bornDate">Born Date</label>
            <input
                type="text"
                id="bornDate"
                name="bornDate"
                class="form-control"
                placeholder="Enter Born Date"
                value="<%= typeof bornDate != 'undefined' ? bornDate : '' %>"
            />
            </div>
            
            <div class="form-group mt-3">
            <label for="address">Address</label>
            <input
                type="text"
                id="address"
                name="address"
                class="form-control"
                placeholder="Enter Address"
                value="<%= typeof address != 'undefined' ? address : '' %>"
            />
            </div>

            <div class="form-group mt-3">
            <label for="contact">Contact</label>
            <input
                type="number"
                id="contact"
                name="contact"
                class="form-control"
                placeholder="Enter Contact"
                value="<%= typeof contact != 'undefined' ? contact : '' %>"
            />
            </div>

            <div class="form-group mt-3">
            <label for="doctor">Doctor</label>
            <input type="hidden" value="" name="doctorID" id="hide">
            <input class="form-control" list="datalistOptions" id="doctorID" placeholder="Type to search Doctor..." value="">
            <datalist id="datalistOptions">
                <option value="" selected>Choose Doctor</option>
                <% for( let index = 0; index < doctors.length; index++ ) { %>
                <% const doctor = doctors[index] %> 
                <% let type = 'UMUM' %> 
                <% let label = `${doctor.name} (${type})` %> 
                <% if (doctor.type == 2) { %>
                    <% type = 'SPECIALIST' %> 
                    <% label = `${doctor.name} (${type} : ${doctor.typeName})` %> 
                <% } %>
                <option value="<%= doctor._id %>"><%= label %></option>
                <% } %>
            </datalist>
            </div>
            
            
            <button type="submit" class="btn btn-primary btn-block mt-3">
            Submit
            </button>
        </form>
        </div>
    </div>
 
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(function(){
        $('#doctorID').on('change', function(){
            var selectedValue = $(this).val();
            console.log(selectedValue)
            $('input:hidden').val(selectedValue);
        }) 

    })
</script>